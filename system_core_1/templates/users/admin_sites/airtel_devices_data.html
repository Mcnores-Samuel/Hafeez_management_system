{% extends 'users/admin_sites/main.html' %}
{% load plus_r %}
{% load static %}
{% load django_bootstrap5 %}
{% bootstrap_css %}
{% bootstrap_javascript %}
{% block head %}
<script src="{% static 'scripts/airtel_data_query.js' %}" defer></script>
<script type="module" src="{% static 'scripts/admin_metrics.js' %}" defer></script>
<script type="module" src="{% static 'scripts/airtel_metric_charts.js' %}" defer></script>
<script type="module" src="{% static 'scripts/metric_render.js' %}" defer></script>
{% endblock %}
{% block content %}
<div class="container d-flex justify-content-between bg-dark" style="padding: 10px;">
    <form action="" method="post" class="d-flex position-relative search-form text-light">
        {% csrf_token %}
        <input type="search" id="search_data" name="search_query" class="form-control me-2"
        placeholder="filter the specific promoter here" aria-label="Search" aria-describedby="search-addon"
        list="promoters">

        <datalist id="promoters">
            {% for promoter in promoters %}
                <option value="{{ promoter.first_name }} {{ promoter.last_name }}">
            {% endfor %}
        </datalist>
    </form>
    <button id="defualtfilter" class="btn common-bg">Reset defualt</button>
    <button id="metrics" class="btn common-bg">Metrics</button>
</div>
<br>
<div class="container">
    <div class="row d-flex justify-content-center">
        <div class="col-md-4 col-sm-4 mb-4">
            <div class="card common-bg rounded-start">
                <div class="card-header  text-center">
                    <h4 class="card-title fw-bold">Total Promoters:  {{ total_promoters }}</h4>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-4 mb-4">
            <div class="card common-bg rounded-start">
                <div class="card-header  text-center">
                    <h4 class="card-title fw-bold">Total Collected:  {{ total_collected }}</h4>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-4 mb-4">
            <div class="card common-bg rounded-start">
                <div class="card-header  text-center">
                    <h4 class="card-title fw-bold">Total Available:  {{ availableStock }}</h4>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="d-flex justify-content-center">
    <div class="spinner-border text-warning" role="status" id="loader">
      <span class="visually-hidden">Loading...</span>
    </div>
</div>
<div class="container" id="container">
    {% bootstrap_messages %}
    <div class="table-responsive">
        <table class="table table-secondary table-hover table-bordered
        table-sm" id="airtelDevicesTable">
            <thead>
                <t class="common-bg">
                    <th scope="col">Promoter</th>
                    <th scope="col">Total Devices</th>
                    <th scope="col">In Stock</th>
                    <th scope="col" style="background-color: blue;">MIFI</th>
                    <th scope="col" style="background-color: purple;">IDU</th>
                    <th scope="col">Tody's Collection</th>
                    <th scope="col">Within due date</th>
                    <th scope="col">Overdue</th>
                    <th scope="col">Action</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
</div>
<div class="container w-100 common-color">
    <div class="pagination container-fluid w-100 d-flex justify-content-center">
        <span class="step-links w-100 d-flex justify-content-around">
        </span>
    </div>
</div>
<style>

    table {
        text-align: center;
        border-radius: 10px;
        scrollbar-width: none;
    }

</style>
{% endblock %}
